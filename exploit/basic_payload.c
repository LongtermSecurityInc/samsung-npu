// [  223.800496] [_RSPS][0000218.762]MSG(R) : [0] 101
// [  223.800502] [__LOW][0000218.778]MSG(L) : [0] 4
// [  223.800507] [__LOW][0000218.778]PATCHED_NPU: hello from the NPU!
// [  223.800512] [__LOW][0000218.778]mbx_msghub_req(mid:0):0
// [  223.800519] [__MON][0000219.762].
// [  223.800524] [__MON][0000220.762].
// [  223.800529] [__MON][0000221.762].
// [  223.800536] [__MON][0000222.762].
// [  223.800540] [__MON][0000223.762].
// [  223.800546] [__MON][0000223.762][ERR]mbx_msghub_timeout:222>mid 0 is timeout

typedef char int8_t;
typedef short int16_t;
typedef int int32_t;
typedef long long int64_t;
typedef int32_t ssize_t;

typedef unsigned char uint8_t;
typedef unsigned short uint16_t;
typedef unsigned int uint32_t;
typedef unsigned long long uint64_t;
typedef uint32_t size_t;

typedef uint32_t uintptr_t;

void (*print)(char *format, ...) = (void (*)(char *, ...)) 0x17468;

int main() {
    print("PATCHED_NPU: hello from the NPU!\n");
    return 0;
}

int __attribute__((naked)) entry() {
    asm volatile(
        "PUSH {R4-R6,LR}\n"
        "bl main\n"
        "mov R0, $0\n"
        "POP {R4-R6,PC}"
    );
}
